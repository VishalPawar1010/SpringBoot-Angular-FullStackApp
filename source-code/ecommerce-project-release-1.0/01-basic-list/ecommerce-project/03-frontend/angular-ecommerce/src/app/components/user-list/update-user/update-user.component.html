<div class="modal-header">
  <h4 class="modal-title">Hi there!</h4>
  <button type="button" class="close" aria-label="Close" (click)="close()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <div class="border border-secondary rounded p-3 d-flex flex-column">
    <div class="my-auto">
      <p class="h5 mb-4 text-center">Update user</p>
    </div>
    <form
      class="col-8 updateForm"
      style="max-width: 350px; margin: 0 auto"
      #updateForm
      #updateUserForm="ngForm"
    >
      <div class="form-group">
        <label for="email">Id:</label>
        <input
          id="id"
          type="number"
          name="id"
          required
          [(ngModel)]="user.id"
          #name="ngModel"
          class="form-control"
        />
      </div>
      <div class="form-group">
        <label for="email">Email:</label>
        <input
          id="email"
          type="email"
          name="email"
          required
          [(ngModel)]="user.email"
          #name="ngModel"
          class="form-control"
        />
      </div>
      <!-- <div class="form-group">
        <label for="Password">Password:</label>
        <input
          id="Password"
          type="text"
          name="Password"
          required
          [(ngModel)]="user.password"
          class="form-control"
        />
      </div> -->
      <div class="form-group">
        <label for="firstName">First Name:</label>
        <input
          id="firstName"
          type="text"
          name="firstName"
          required
          [(ngModel)]="user.firstName"
          class="form-control"
        />
      </div>
      <div class="form-group">
        <label for="lastName">Last Name:</label>
        <input
          id="lastName"
          type="text"
          name="lastName"
          required
          [(ngModel)]="user.lastName"
          class="form-control"
        />
      </div>
      <!-- <div class="form-group">
        <label for="roles">Roles:</label>
        <select id="roles" name="roles" multiple [(ngModel)]="user.roles">
          <option *ngFor="let role of user.roles" [ngValue]="role">{{ role.name }} - {{ role.description }}</option>
        </select>
      </div> -->
      <!-- <div class="form-group">
        <label for="roles">Roles:</label>
        <select id="roles" name="roles" [(ngModel)]="user.roles" class="form-control" multiple>
           <option *ngFor="let role of user.roles" [value]="role">
            {{ role.name }} - {{ role.description }}
          </option>
          <input *ngFor="let role of user.roles" [value]="role"
        id="roleName"
        type="text"
        name="roleName"
        required
        [(ngModel)]="role.name"
        class="form-control"
      />
          
        </select>
      </div> -->
      <div class="form-group">
        <label for="roles">Roles:</label>
        <select id="roles" name="roles" [(ngModel)]="user.roles" class="form-control" multiple>
          <option *ngFor="let role of user.roles" [value]="role">
            {{ role.name }} - {{ role.description }}
          </option>
        </select>
      </div>
      
      <!-- Add a separate field to update the role name -->
      <!-- <div class="form-group" *ngIf="user.roles.length >= 0">
        <label for="roles[0].name">Role Name:</label>
        <input id="roles[0].name" type="text" name="roles[0].name" required [(ngModel)]="user.roles[0].name" class="form-control" />
      </div> -->
      <div class="form-group" *ngIf="user.roles.length >= 0">
        <label for="roles[0].id">Role Id:</label>
        <input id="roles[0].id" type="text" name="roles[0].id" required [(ngModel)]="user.roles[0].id" class="form-control" />
      </div>
    </form>

    <div class="mt-3 text-center">
      <button class="btn btn-success" type="submit" (click)="updateUser()">
        Update User
      </button>
    </div>
  </div>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-outline-dark" (click)="close()">
    Close
  </button>
</div>
